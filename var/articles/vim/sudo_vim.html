.. vim:set expandtab ff=unix ft=rest :

..  sudo.vim : 特権を持たないユーザセッションから、特権ユーザでファイルを編集、保存できるようにする

..  vimエディタ上からsudoを実行して、root権限でファイルを編集、保存できるようにするスクリプトです。
    (Mac)

.. |BR| raw:: html

    <br />

.. |yen|    unicode:: U+000A5 .. YEN SIGN

.. role:: raw-html(raw)
    :format: html

.. contents::

================================================================================
概要
================================================================================

sudo.vim : Allows one to edit a file with prevledges from an unprivledged session. |BR|
http://www.vim.org/scripts/script.php?script_id=729

vimエディタ上からsudoを実行して、root権限でファイルを編集、保存できるようにするスクリプトです。



================================================================================
インストール方法
================================================================================

`スクリプト`__ をダウンロードし、 |BR|
pluginディレクトリにコピーしてください。

__ http://www.vim.org/scripts/script.php?script_id=729


.. csv-table::
    :header: "ファイル", "URL"

    sudo.vim, http://www.vim.org/scripts/script.php?script_id=729



================================================================================
使い方
================================================================================

このスクリプトは、ファイル名の前に
「sudo:」を付けることにより、sudo実行によるroot権限でのファイル編集を可能にします。


コマンドラインからこのスクリプトを実行する場合
-------------------------------------------------------------------------------

コマンドラインからvimエディタでファイルを開く時に、 |BR|
ファイルPATHの前に「sudo:」を付けてください。

.. parsed-literal::
    :class: console

    **" スクリプト実行の例**
    vim sudo:hostconfig

複数ファイルを開く場合に、sudoの対象のファイルを選択する事が可能です。 |BR|
下の実行例は、hostconfigのみをsudoで開いています。

.. parsed-literal::
    :class: console

    **" 複数のファイルを開く時にsudo対象のファイルを選択することができる。**
    vim smb.conf sudo:hostconfig rc.common


エディタ上からファイルを開く時にこのスクリプトを実行する場合
-------------------------------------------------------------------------------

vimエディタが起動している時に、このスクリプトでsudoを実行してファイルを開くには、 |BR|
「sudo:」をファイルPATHに付けてファイルをエディタで開いてください。

.. parsed-literal::
    :class: console

    **" スクリプト実行の例**
    :e sudo:hostconfig

今、開いているファイルを、sudoを実行して開くには、
「%」を使用すると良いでしょう。 |BR|
(%は、実行時に、現在開いているファイルPATHと置き換えられます。)

.. parsed-literal::
    :class: console

    **" 現在開いているファイルをsudoを実行して開く**
    :e sudo:%


sudoのパスワード
-------------------------------------------------------------------------------

このスクリプトを実行した時にsudoのパスワードキャッシュが切れていると、 |BR|
sudoのパスワードが要求されます。

.. image:: /dist/img/vim/sudo_vim_passwd.jpg
    :alt:  メニュー項目


このスクリプトでsudoを実行して開いたファイルの目印
-------------------------------------------------------------------------------

このスクリプトでsudoを実行して開いたファイルには、 |BR|
「sudo:」というプレフィックスが付きます。

.. image:: /dist/img/vim/sudo_vim_open.jpg
    :alt:  メニュー項目



================================================================================
注意事項など
================================================================================

このスクリプトを実行するには、sudoコマンドにより、
vim、cat、teeコマンドをroot権限で実行できる必要があります。 |BR|
今の所、rootユーザー以外の権限で、このスクリプトを実行する事はできません。 |BR|
(2005/2/25)


