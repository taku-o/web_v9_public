.. vim:set expandtab ff=unix ft=rest :

..  opsplorer.vim : ツリー型のファイルエクスプローラー

..  ツリー型のファイルエクスプローラー機能を持つスクリプトです。
    vimエディタのデフォルトのファイルエクスプローラーでは
    1階層のファイルしか表示することができませんが、
    このスクリプトなら複数階層を一度に表示することができます。
    更にこのファイルエクスプローラーはファイルの絞り込み検索を行う機能も持っています。
    (Windows, Mac)

.. |BR| raw:: html

    <br />

.. |yen|    unicode:: U+000A5 .. YEN SIGN

.. role:: raw-html(raw)
    :format: html

.. contents::

================================================================================
概要
================================================================================

opsplorer : tree file explorer |BR|
http://www.vim.org/scripts/script.php?script_id=362

ツリー型のファイルエクスプローラーです。 |BR|
vimエディタのデフォルトのファイルエクスプローラーでは
1階層のファイルしか表示することができませんが、 |BR|
このファイルエクスプローラーなら複数階層を一度に表示することができます。

.. image:: /dist/img/vim/opsplorer.jpg
    :alt:  ツリー型ファイルエクスプローラー

更に、このファイルエクスプローラーは、ファイルの絞り込み検索機能を持っています。 |BR|
下の画像は「a」で始まるC言語のヘッダファイル(絞り込みの条件は^a\*.hとした)で、 |BR|
ファイルのリストを絞り込んだ様子です。

.. image:: /dist/img/vim/opsplorer_files.jpg
    :alt:  ファイルリスト絞り込み前

ファイルリストの絞り込み後の様子。 |BR|
aの文字で始まるC言語のヘッダファイルのみが表示されています。

.. image:: /dist/img/vim/opsplorer_search.jpg
    :alt:  ファイルリスト絞り込み後



================================================================================
インストール方法
================================================================================

まず、 `vim online`__ から
zipファイルをダウンロードしてください。

__ http://www.vim.org/scripts/script.php?script_id=362

.. csv-table::
    :header: "ファイル", "URL"

    "opsplorer.vim", "http://www.vim.org/scripts/script.php?script_id=362"

ダウンロードしたzipファイルを解凍すると、

- opsplorer.vim
- opsplorer.txt

の2ファイルが入っているので、 |BR|
opsplorer.vimはpluginディレクトリに、 |BR|
opsplorer.txtはdocディレクトリにコピーします。

最後に:helptagsコマンドで、opsplorer.txtドキュメントを有効にして下さい。


.. parsed-literal::
    :class: console

    **" helptagsコマンド実行の例。**
    :helptags $HOME/.vim/doc (Mac OSXの場合)
    :helptags $HOME/vimfiles/doc (Windowsの場合)



================================================================================
使用方法
================================================================================

下のコマンドで、ファイルエクスプローラーを開くことができます。

.. parsed-literal::
    :class: console

    :Opsplorer

操作方法の一覧です。

.. csv-table:: カーソルの移動に関わる操作
    :header: "キー", "カーソルの位置", "効果"

    "EnterキーかSpaceキー", "ディレクトリ名の前の「+」の文字の上", "指定のディレクトリを開く。"
    "EnterキーかSpaceキー", "ディレクトリ名の前の「-」の文字の上", "指定のディレクトを閉じる。"
    "EnterキーかSpaceキー", "ディレクトリ名の上", "ファイルエクスプローラーのベースディレクトリを指定のディレクトに変更する。"
    "EnterキーかSpaceキー", "ファイルエクスプローラーのベースディレクトリの上", "親ディレクトリに移動する。"
    "Shiftキーを押しながら上キー", "\-\-\-", "1つ次のディレクトリにカーソルを移動する。"
    "Shiftキーを押しながら下キー", "\-\-\-", "1つ前のディレクトリにカーソルを移動する。"
    "qキー", "\-\-\-", "ファイルエクスプローラーを閉じます。"


.. csv-table:: ファイルを開く時の挙動に関わる操作
    :header: "キー", "カーソルの位置", "効果"

    "Enterキー", "ファイルの上", "指定のファイルを開きます。ファイルエクスプローラーは閉じます。"
    "Spaceキー", "ファイルの上", "指定のファイルを開きます。ファイルエクスプローラーは開かれたままになります。"


.. csv-table:: ファイルの表示に関わる操作
    :header: "キー", "効果"

    "H (Shift-h)", "隠しファイルの表示非表示を切り替えます。デフォルトは非表示です。"
    "M (Shift-m)", "ファイルの絞り込み検索を行います。ワイルドカードが使用可能。デフォルトは「\*」です。"


.. csv-table:: ファイルの操作
    :header: "キー", "カーソルの位置", "効果"

    "N (Shift-n)", "ファイル名の上", "ファイル名を変更します。"
    "C (Shift-c)", "ファイル名の上", "ファイルをコピーします。"
    "D (Shift-d)", "ファイル名の上", "ファイルを削除します。"
    "O (Shift-o)", "ファイル名の上", "ファイルを移動します。"



================================================================================
設定
================================================================================

初期設定を変更したい場合は、下の設定をvimの設定ファイルに書き込んで下さい。


.. csv-table::
    :header: "オプション", "説明", "デフォルト値", "設定例"

    "s:single_click_to_edit", "1に設定するとマウスでファイルを1回クリックした時にファイルを開くようになる。デフォルトではダブルクリック時に開く。", "0", ":let s:single_click_to_edit=1"
    "s:file_match_pattern", "ファイルの絞り込みの検索条件。デフォルトは「\*」で全ファイルの表示。", "\*", :let s:file_match_pattern="\*.c"
    "s:show_hidden_files", "1に設定すると隠しファイルを表示する。デフォルトでは隠しファイルを表示しない。", "0", ":let s:show_hidden_files=1"
    "s:split_vertical", "ファイルエクスプローラーを表示する時にウィンドウを縦に分割するか、横に分割するか。", "1", ":let s:split_vertical=0"
    "s:split_width", "ファイルエクスプローラを表示する横幅", "16", ":let s:split_width=32"
    "s:split_minwidth", "ファイルエクスプローラーの横幅の最小値", "1", ":let s:split_minwidth=16"
    "s:use_colors", "ファイルエクスプローラーで色を使うか使わないか。デフォルトは1で使う設定になっている。", "1", ":let s:use_colors=0"
    "s:close_explorer_after_open", "マウスでファイル名を選択した時にファイルエクスプローラーを閉じるか、閉じないか。", "0", ":let s:close_explorer_after_open=1"




