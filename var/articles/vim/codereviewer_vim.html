.. vim:set expandtab ff=unix ft=rest :

..  CodeReviewer.vim : コードレビューの記録を管理するユーティリティ

..  複数のファイルに対して、コードレビュー、メモ、TODOなどを記録することができます。
    コードレビューは、別ファイルで管理されるので、
    レビュー対象のファイル自体に影響を及ぼすようなことはありません。
    (Windows, Mac)

.. |BR| raw:: html

    <br />

.. |yen|    unicode:: U+000A5 .. YEN SIGN

.. role:: raw-html(raw)
    :format: html

.. contents::

================================================================================
概要
================================================================================

CodeReviewer.vim : Utility for code reviews (using quickfix) |BR|
http://www.vim.org/scripts/script.php?script_id=1041

指定のファイルに対して、レビュー、メモ、TODOなどの記録用に使えるコメントをつけることのできるスクリプトです。
レビューコメントは、レビュー対象のファイルとは別のファイルで管理されます。

.. image:: /dist/img/vim/codereviewer.jpg
    :alt:  CodeReviewer

それぞれのレビューコメントには、ファイル名と行数が入ります。 |BR|
レビューコメントはそれぞれの見出しの右か下に書きます。



================================================================================
インストール方法
================================================================================

ファイルのコピー
-------------------------------------------------------------------------------

`CodeReviewer.vimのパッケージ`__ を
ダウンロードして解凍します。

__ http://www.vim.org/scripts/script.php?script_id=1041

.. csv-table::
    :header: "ファイル", "URL"

    "CodeReviewer.vim", "http://www.vim.org/scripts/script.php?script_id=1041"

解凍すると、下の3つのファイルが入っています。

.. csv-table::
    :header: "ファイル", "コピー先のディレクトリ"

    "CodeReviewer.vim", "pluginディレクトリにコピーします。"
    "rev.vim", "syntaxディレクトリにコピーします。"
    "CodeReviewer.txt", "docディレクトリにコピーします。"


ドキュメントの追加
-------------------------------------------------------------------------------

CodeReviewer.txtはCodeReviewer.vimのドキュメントなので、docにコピーした後、
helptagsコマンドでvimのドキュメントに追加します。

.. parsed-literal::
    :class: console

    **" Mac OSX環境の場合の例**
    :helptags ~/.vim/doc

.. parsed-literal::
    :class: console

    **" Windows環境の場合の例**
    :helptags ~/vimfiles/doc


設定ファイルの編集
-------------------------------------------------------------------------------

次にvimの設定ファイルを編集します。 |BR|
(設定しないと、このスクリプトは動作しません。)

設定する項目は、次の3つです。

.. csv-table::
    :header: "設定", "設定の内容"

    "g:CodeReviewer_reviewer", "レビューする人の名前。"
    "g:CodeReviewer_reviewFile", "レビューを記録するファイル。ファイルの拡張子は、'.rev'にする必要がある。"
    "g:loaded_CodeReviewer", "vim起動時にプラグインをロードするかしないか。1だとロードしない。"

設定例は、次の通りです。

.. parsed-literal::
    :class: console

    :let g:CodeReviewer_reviewer = "Karthick";
    :let g:CodeReviewer_reviewFile = "$HOME/review_Karthick.rev"
    :let g:loaded_CodeReviewer = 0



================================================================================
使用方法
================================================================================

新規レビューコメントの追加
-------------------------------------------------------------------------------

ファイルをvimエディタで開いて、ノーマルモードで下のコマンドを入力すると、
編集画面に移ります。 |BR|
レビューのコメントは、見出しの右か、下の行に記述します。 |BR|
コメントは、複数行書いても問題ありません。

.. parsed-literal::
    :class: console

    \\ic


編集中のファイルのレビューの取得
-------------------------------------------------------------------------------

下のコマンドで、現在編集中のファイルについているレビューコメントを取得できます。

.. parsed-literal::
    :class: console

    :CheckReview

.. image:: /dist/img/vim/codereviewer_checkreview.jpg
    :alt:  CodeReviewer


レビューのソート
-------------------------------------------------------------------------------

下のコマンドで、レビューの一覧を種類別にソートできます。 |BR|
(ソートというよりも、コメントの整理という感じか。)

新規でレビューコメントを追加した時、デフォルトで挿入されるのは
「Defect」になっていますが、
これを「Remark」、「Question」にすると、その種類ごとにもソートをかけてくれます。 |BR|
(しかし、「Remark」、「Question」で新規コメントを挿入するキーマップやら、functionは、
今の所、用意されていません。)

.. parsed-literal::
    :class: console

    :SortReviewFile



================================================================================
注意事項など
================================================================================

ちょっと作り込みが甘いかなという印象があります。
スクリプトは短いので、改造は容易だと思いますが。

Windows、Mac OSX、共に動作確認済み。
少しだけ、Windowsでの動作が怪しいです。



