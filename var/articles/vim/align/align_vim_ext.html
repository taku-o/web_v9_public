.. vim:set expandtab ff=unix ft=rest :

..  高性能なテキスト整形ツールAlignの使い方 #5 ここまで紹介していない残りの機能の紹介

..  この記事では、ここまで紹介していなかったAlignの機能を紹介します。
    (Windows, Mac)

.. |BR| raw:: html

    <br />

.. |yen|    unicode:: U+000A5 .. YEN SIGN

.. role:: raw-html(raw)
    :format: html

.. contents::

================================================================================
概要
================================================================================

Align : Provides commands and maps to help produce aligned text, eqns, declarations, etc |BR|
http://www.vim.org/scripts/script.php?script_id=294

この記事では、ここまで紹介していなかった `Align`_ の機能を紹介します。

「 `高性能なテキスト整形ツールAlignの使い方 #1 インストールから設定まで`_ 」の続きとなる記事です。



=============================================================================
AlignPush、AlignPop
=============================================================================

「:AlignPush」「:AlignPop」コマンドは、
「:AlignCtrl」コマンドで設定した整形の条件を記録するコマンド、取り出すコマンドです。

.. parsed-literal::
    :class: console

    **" スタックに現在の条件を登録**
    :AlignPush
    **" スタックから整形の条件を取り出し、現在の設定を上書きする**
    :AlignPop

「:AlignPush」コマンドでスタックに現在の設定を記録し、
「:AlignPop」コマンドでスタックの最後に積まれた設定を取り出します。 |BR|
（スタックのアイテム数が減ります） |BR|
この2つのコマンドは、頻繁に「:AlignCtrl」の設定を変更して、整形処理を行う場合に便利なコマンドです。

スタックは「Last In, First Out（最後に入ったものが最初にでていく）」なので、 |BR|
「:AlignPop」コマンド実行前には、「:AlignPush」コマンドで整形の条件をスタックに追加しておく必要があります。



=============================================================================
メニュー
=============================================================================

メニューからAlignの整形機能を呼び出すこともできます。 |BR|
整形処理実行時の整形範囲の指定方法は、
組み込みマッピングによる整形処理での整形範囲の指定方法と同じです。

.. image:: /dist/img/vim/align/align_menu.jpg
    :alt:  メニュー
    :class: image-border

整形範囲の指定方法の詳細については、

- `高性能なテキスト整形ツールAlignの使い方 #2 組み込みマッピングでテーブル構造を整形する`_
- `高性能なテキスト整形ツールAlignの使い方 #3 組み込みマッピングでプログラムのソースを整形する`_

のページを参照してください。

.. note::

    メニューの中には、動作の検証ができていなかったり、動作しなかったりなどの理由で、 |BR|
    このドキュメントでは紹介していない機能も含まれています。



=============================================================================
「:AlignCtrl」で変更した設定を初期状態に戻すには
=============================================================================

Alignを頻繁に使用する人は、
「:AlignCtrl」コマンドで整形処理の設定を変更した後、 |BR|
最初のデフォルト設定状態に戻すためのコマンドとして、
vimエディタの設定ファイルで、次のコマンドを定義しておくと良いでしょう。

.. parsed-literal::
    :class: program

    :command! -nargs=0 AlignReset call Align#AlignCtrl("default")

このコマンドの設定を追加した後、「:AlignReset」コマンドを実行すると、
「:AlignCtrl」コマンドで変更したAlignの整形の設定が初期状態にクリアされます。

.. parsed-literal::
    :class: console

    **" 設定のリセット**
    :AlignReset



================================================================================
ページリンク
================================================================================

#. `高性能なテキスト整形ツールAlignの使い方 #1 インストールから設定まで`_
#. `高性能なテキスト整形ツールAlignの使い方 #2 組み込みマッピングでテーブル構造を整形する`_
#. `高性能なテキスト整形ツールAlignの使い方 #3 組み込みマッピングでプログラムのソースを整形する`_
#. `高性能なテキスト整形ツールAlignの使い方 #4 「:Align」コマンドを使用して整形処理を行う`_
#. - `高性能なテキスト整形ツールAlignの使い方 #5 ここまで紹介していない残りの機能の紹介`_
#. `高性能なテキスト整形ツールAlignの使い方 #6 Alignの使い方を簡潔に説明`_

.. _`高性能なテキスト整形ツールAlignの使い方 #1 インストールから設定まで`: `doc_align`_
.. _`高性能なテキスト整形ツールAlignの使い方 #2 組み込みマッピングでテーブル構造を整形する`: `doc_align_mapt`_
.. _`高性能なテキスト整形ツールAlignの使い方 #3 組み込みマッピングでプログラムのソースを整形する`: `doc_align_mapa`_
.. _`高性能なテキスト整形ツールAlignの使い方 #4 「:Align」コマンドを使用して整形処理を行う`: `doc_align_ctrl`_
.. _`高性能なテキスト整形ツールAlignの使い方 #5 ここまで紹介していない残りの機能の紹介`: `doc_align_ext`_
.. _`高性能なテキスト整形ツールAlignの使い方 #6 Alignの使い方を簡潔に説明`: `doc_align_summary`_

.. _`Align`: http://www.vim.org/scripts/script.php?script_id=294
.. _`doc_align`: /articles/vim/align/align_vim.html
.. _`doc_align_mapt`: /articles/vim/align/align_vim_mapt.html
.. _`doc_align_mapa`: /articles/vim/align/align_vim_mapa.html
.. _`doc_align_ctrl`: /articles/vim/align/align_vim_ctrl.html
.. _`doc_align_ext`: /articles/vim/align/align_vim_ext.html
.. _`doc_align_summary`: /articles/vim/align/align_vim_summary.html



