.. vim:set expandtab ff=unix ft=rest :

..  高性能なテキスト整形ツールAlignの使い方 #1 インストールから設定まで

..  Alignはvimスクリプトで作られた高性能、多機能なテキスト整形ツールです。
    このツールひとつで、インデントの修正、CSVフォーマット、TSVフォーマットのファイルの整形、
    ソースコメントの位置揃えなどの整形処理ができます。
    スクリプトの機能としては、
    与えられた条件に従ってテキスト整形処理を行う応用のきく「:Align」コマンドと、
    いくつかのシチュエーション用の使うのが簡単な組み込みのマッピングが用意されており、
    これらの機能を使用して、整形処理を行います。
    (Windows, Mac)

.. |BR| raw:: html

    <br />

.. |yen|    unicode:: U+000A5 .. YEN SIGN

.. role:: raw-html(raw)
    :format: html

.. contents::

================================================================================
概要
================================================================================

Align : Provides commands and maps to help produce aligned text, eqns, declarations, etc |BR|
http://www.vim.org/scripts/script.php?script_id=294

`Align`_ はvimスクリプトで作られた高性能、多機能なテキスト整形ツールです。
このツールひとつで、インデントの修正、CSVフォーマット、TSVフォーマットのファイルの整形、
ソースコメントの位置揃えなどの整形処理ができます。

- 空白文字でいくつかのフィールドに分割して整形。
- CSVの整形、TSVの整形。
- 指定したセパレータで各フィールドを分割して位置揃え。
- HTML、LaTexのテーブル構造を見やすく整形。
- 変数宣言、define定義、3項演算子、コメントの整形。
- コメントのボックスで文章を囲む。
- 各数値の小数点位置を揃える。
- などなど....

スクリプトの機能としては、
与えられた条件に従ってテキスト整形処理を行う応用のきく「:Align」コマンドと、
いくつかのシチュエーション用の使うのが簡単な組み込みのマッピングが用意されており、
これらの機能を使用して、整形処理を行います。

.. image:: /dist/img/vim/align/align_consist_of.jpg
    :alt:  Alignの機能の構成


このコンテンツは巨大なので、短いまとめ記事を用意してあります。 |BR|
`高性能なテキスト整形ツールAlignの使い方 #6 Alignの使い方を簡潔に説明`_



================================================================================
インストール方法
================================================================================

スクリプトのインストール
-------------------------------------------------------------------------------

`Align`_ スクリプトはvimball形式で配布されています。
このvimballから `Align`_ をインストールするには、

- vim onlineから `スクリプトをダウンロード`_ し、解凍ツールで解凍する。
- 生成された「Align.vba」をvimエディタで開く。
- ファイルを開いたら、vimエディタで次のコマンドを実行する。

.. _`スクリプトをダウンロード`: `Align`_

.. parsed-literal::
    :class: console

    :so %

コマンドを実行するとインストールが開始されるので、 |BR|
そのまま完了を待っていれば、インストールが完了します。

.. image:: /dist/img/vim/align/align_vimball.jpg
    :alt:  vimballの展開


日本語環境用の設定
-------------------------------------------------------------------------------

次に、日本語環境用の設定をvimエディタの設定ファイルに追加してください。 |BR|
この設定は文字サイズの計算で使用されています。

.. parsed-literal::
    :class: program

    **" Alignを日本語環境で使用するための設定**
    :let g:Align_xstrlen = 3

.. note::

    実際には、この設定は完璧には機能していないようなので、 |BR|
    現段階では設定を追加しなくても良いと思います。

.. csv-table::
    :header: "ファイル", "URL"

    "Align.vba.gz", "http://www.vim.org/scripts/script.php?script_id=294"



================================================================================
設定
================================================================================

Alignの設定項目としては、メニューの表示に関する設定が用意されています。。

メニューの設定
-------------------------------------------------------------------------------

`Align`_ をインストールすると、GUIのメニューに、
Alignの機能呼び出し用のメニューが追加されます。

.. image:: /dist/img/vim/align/align_menu.jpg
    :alt:  Alingのメニュー
    :class: image-border

このメニューの表示を変更したい場合には、
vimエディタの設定ファイルで「g:DrChipTopLvlMenu」に表示したい名前を設定してください。

.. parsed-literal::
    :class: program

    **" メニューの表示名の変更**
    :let g:DrChipTopLvlMenu = "{メニューの表示名}"

メニューが邪魔で、非表示にしたい場合には「g:DrChipTopLvlMenu」に空文字をセットしてください。

.. parsed-literal::
    :class: program

    **" メニューの非表示**
    :let g:DrChipTopLvlMenu = ""



================================================================================
Alignの整形処理機能の使い方
================================================================================

`Align`_ による整形のやり方は、
あらかじめ用意された特定ケース用の組み込みマッピングで整形するか、
整形処理用のコマンド「:Align」を実行して整形するかで、大きく2種類に分けられます。
また、組み込みマッピングによる整形は、テーブル構造の整形と、プログラムソースの整形で
更に2種に分けられます。

今回は、ドキュメント量が多くなってしまったので、
それぞれの使い方については専用の別のページを用意してしまいました。 |BR|
続きは下のページを見に行ってください。

- `組み込みマッピングでテーブル構造の整形`_
- `組み込みマッピングでプログラムのソースの整形`_
- `「:Align」コマンドを使って整形`_

.. _`組み込みマッピングでテーブル構造の整形`: `doc_align_mapt`_
.. _`組み込みマッピングでプログラムのソースの整形`: `doc_align_mapa`_
.. _`「:Align」コマンドを使って整形`: `doc_align_ctrl`_



================================================================================
ページリンク
================================================================================

#. - `高性能なテキスト整形ツールAlignの使い方 #1 インストールから設定まで`_
#. `高性能なテキスト整形ツールAlignの使い方 #2 組み込みマッピングでテーブル構造を整形する`_
#. `高性能なテキスト整形ツールAlignの使い方 #3 組み込みマッピングでプログラムのソースを整形する`_
#. `高性能なテキスト整形ツールAlignの使い方 #4 「:Align」コマンドを使用して整形処理を行う`_
#. `高性能なテキスト整形ツールAlignの使い方 #5 ここまで紹介していない残りの機能の紹介`_
#. `高性能なテキスト整形ツールAlignの使い方 #6 Alignの使い方を簡潔に説明`_

.. _`高性能なテキスト整形ツールAlignの使い方 #1 インストールから設定まで`: `doc_align`_
.. _`高性能なテキスト整形ツールAlignの使い方 #2 組み込みマッピングでテーブル構造を整形する`: `doc_align_mapt`_
.. _`高性能なテキスト整形ツールAlignの使い方 #3 組み込みマッピングでプログラムのソースを整形する`: `doc_align_mapa`_
.. _`高性能なテキスト整形ツールAlignの使い方 #4 「:Align」コマンドを使用して整形処理を行う`: `doc_align_ctrl`_
.. _`高性能なテキスト整形ツールAlignの使い方 #5 ここまで紹介していない残りの機能の紹介`: `doc_align_ext`_
.. _`高性能なテキスト整形ツールAlignの使い方 #6 Alignの使い方を簡潔に説明`: `doc_align_summary`_

.. _`Align`: http://www.vim.org/scripts/script.php?script_id=294
.. _`doc_align`: /articles/vim/align/align_vim.html
.. _`doc_align_mapt`: /articles/vim/align/align_vim_mapt.html
.. _`doc_align_mapa`: /articles/vim/align/align_vim_mapa.html
.. _`doc_align_ctrl`: /articles/vim/align/align_vim_ctrl.html
.. _`doc_align_ext`: /articles/vim/align/align_vim_ext.html
.. _`doc_align_summary`: /articles/vim/align/align_vim_summary.html



