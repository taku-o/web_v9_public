.. vim:set expandtab ff=unix ft=rest.txtfmt :

..  txtfmtテキスト装飾プラグイン #1 インストールから簡単な使い方まで

..  txtfmtプラグインは特別なマーカー文字をファイル中に埋め込むことで、
    指定範囲の文字色や、テキストの装飾を指定できるプラグインです。
    例えば、他人にコードを見せる際、プログラムコードの一部分を太字にして目立たせたり、
    あるいは、プレーンなテキストに独自のハイライトを適用したり、といった使い方ができます。
    (Windows, Mac)

.. |BR| raw:: html

    <br />

.. |yen|    unicode:: U+000A5 .. YEN SIGN

.. role:: raw-html(raw)
    :format: html

.. contents::

================================================================================
概要
================================================================================

txtfmt : Syntax/Filetype plugin for formatting plain text |BR|
http://www.vim.org/scripts/script.php?script_id=2208

txtfmtプラグインは特別なマーカー文字をファイル中に埋め込むことで、
指定範囲の文字色や、テキストの装飾を指定できるプラグインです。 |BR|
例えば、他人にコードを見せる際、プログラムコードの一部分を太字にして目立たせたり、
あるいは、プレーンなテキストに独自のハイライトを適用したり、といった使い方ができます。

.. image:: /dist/img/vim/txtfmt/txtfmt_pre.png
    :alt:  txtfmtプラグイン実行前

↓ txtfmtプラグインを使うと、テキストの装飾を指定できます。

.. image:: /dist/img/vim/txtfmt/txtfmt_post.png
    :alt:  txtfmtプラグインによるテキスト装飾の変更



================================================================================
インストール方法
================================================================================

ファイルの配置
--------------------------------------------------------------------------------

プラグインをインストールするには、vim.orgで `配布されているファイル`__ をダウンロード後、
解凍ツールでダウンロードファイルを解凍し、 |BR|
展開されたファイルをVimエディタの設定ファイルディレクトリにコピーしてください。

__ txtfmt_

.. parsed-literal::
    :class: console

    " Windows環境の場合のインストール先ディレクトリ
    $HOME/vimfiles/
    
    " Mac OSX環境の場合のインストール先ディレクトリ
    $HOME/.vim/

.. parsed-literal::
    :class: program

    " 圧縮ファイルを解凍すると、下記のようにファイルが展開されます
    /---+
        |
        +- doc/txtfmt.txt      ... docディレクトリにコピー。ディレクトリが無ければ作成し、その中にコピーする。
        +- ftplugin/txtfmt.vim ... ftpluginディレクトリにコピー。ディレクトリが無ければ作成し、その中にコピーする。
        +- plugin/txtfmt.vim   ... pluginディレクトリにコピー。ディレクトリが無ければ作成し、その中にコピーする。
        +- syntax/txtfmt.vim   ... Syntaxディレクトリにコピー。ディレクトリが無ければ作成し、その中にコピーする。
        |
        +- indent_patch.txt    ... 最新版のVimエディタを使用している場合は不要。削除して良い。
        |                          indent.vimスクリプトへのパッチファイル。現在は本体に取り込まれている。
        +- mb_patch.txt        ... 最新版のtxtfmtプラグインを使用している場合は不要。削除して良い。
                                   古いバージョンのプラグイン用のパッチファイル。

.. note::

    次の日付以降のindent.vimであれば、indent_patch.txtパッチは取り込まれています。 |BR|
    確認するにはテキストエディタでindent.vimファイルを開き、
    「Last Change:」の行にどの日付が設定されているか確認してください。

    .. parsed-literal::
        :class: program

        " Last Change:  2008 Feb 22


:helptagsコマンドの実行
--------------------------------------------------------------------------------

txtfmtプラグインのドキュメントをコピーした「doc」ディレクトリに「:helptags」コマンドを実行します。 |BR|
この作業を行うと、「:help」コマンドでtxtfmtドキュメントを検索できるようになります。

.. parsed-literal::
    :class: console

    " Windows環境の場合のコマンド例
    :helptags ~/vimfiles/doc

.. parsed-literal::
    :class: console

    " Mac OSX環境の場合のコマンド例
    :helptags ~/.vim/doc


.. csv-table::
    :header: "ファイル", "URL"

    "txtfmt_v1.3.tar.gz", "http://www.vim.org/scripts/script.php?script_id=2208"



================================================================================
txtfmtプラグインの基本的ワークフロー
================================================================================

txtfmtプラグインを使用するには、いくつかお手順を踏む必要があります。
下記は、その手順の簡単なリストです。

#. ファイルタイプを「txtfmt」に設定する。
#. *(txtfmtプラグインの機能が読み込まれる。)*
#. テキストの装飾を変更したい箇所にカーソルを移動する。
#. txtfmtプラグインのプロンプトを呼び出す。
#. プロンプトでテキストの装飾（色、フォーマット）を指定する。
#. *(txtfmtプラグインのマーカー文字列が埋め込まれる。)*
#. *(マーカー文字列の埋め込まれた位置から、独自のテキスト装飾が設定される。)*



================================================================================
txtfmtプラグイン チュートリアル
================================================================================

1. ファイルタイプを「txtfmt」に設定する。
--------------------------------------------------------------------------------

まず、ファイルタイプを「txtfmt」に変更します。 |BR|
ファイルタイプを「txtfmt」に設定する方法は数種類あるのですが、このチュートリアルでは、最も簡単な方法、 |BR|
直接コマンドを実行し、ファイルタイプを変更する方法を採ります。 |BR|
Vimエディタでファイルを開いたら次のコマンドを実行し、ファイルタイプを「txtfmt」に設定してください。

.. parsed-literal::
    :class: console

    " コマンドでファイルタイプ「txtfmt」を指定
    :set filetype=txtfmt


2. txtfmtプラグインのプロンプトを呼び出す。
--------------------------------------------------------------------------------

ファイルタイプを「txtfmt」にすると、txtfmtプラグイン独自のマーカー文字列を埋め込んだ位置以降に、
独自のテキスト装飾を適用できます。 |BR|
このtxtfmtプラグイン独自のマーカー文字列を埋め込むには、txtfmtプラグインが用意するプロンプトの機能を使用します

独自のテキスト装飾を指定したい箇所にカーソルを移動して、ノーマルモードで「\\i」と実行、
txtfmtプラグインのプロンプトを呼び出してください。

.. parsed-literal::
    :class: console

    " txtfmtプラグインのプロンプトを呼び出す
    \\i

.. image:: /dist/img/vim/txtfmt/txtfmt_prompt.png
    :alt:  txtfmtプラグインのプロンプトを呼び出す


3. テキスト装飾を指定する。
--------------------------------------------------------------------------------

txtfmtプラグインのプロンプトでテキスト装飾の種類を指定すると、 |BR|
カーソルのある位置に、指定した色、フォーマットを示すマーカー文字列が挿入されます。

試しに、文字色「赤」を指定してみます。
プロンプトで「cr」と入力し、「Enter」キーで確定させてください。 |BR|
マーカー文字列の挿入された位置以降の文字色が「赤」色に変更されます。

.. parsed-literal::
    :class: console

    " color red を指定
    cr

.. image:: /dist/img/vim/txtfmt/txtfmt_prompt_cr.png
    :alt:  txtfmtプラグインのプロンプトで「cr」と入力

↓ cr実行結果

.. image:: /dist/img/vim/txtfmt/txtfmt_prompt_cr_result.png
    :alt:  txtfmtプラグインのプロンプト「cr」、実行結果

|BR|

次に、文字のフォーマットを指定してみます。 |BR|
もう一度、txtfmtプラグインのプロンプトを表示し、今度は「fi」と入力してください。 |BR|
マーカー文字列の挿入された位置以降の文字がイタリック文字に変化します。

.. parsed-literal::
    :class: console

    " format italic を指定
    fi

.. image:: /dist/img/vim/txtfmt/txtfmt_prompt_fi.png
    :alt:  txtfmtプラグインのプロンプトで「fi」と入力

↓ fi実行結果

.. image:: /dist/img/vim/txtfmt/txtfmt_prompt_fi_result.png
    :alt:  txtfmtプラグインのプロンプト「fi」、実行結果

|BR|

今見た例のように、txtfmtプラグインのプロンプトは、 |BR|
「c」の後に、色を示すキーワードを指定すると、文字色を指定する、 |BR|
「f」の後に、フォーマットを示すキーワードを指定すると、テキストのフォーマットを指定する、 |BR|
txtfmtプラグインのマーカー文字列をカーソル位置に埋め込みます。

.. note::

    背景色と文字色が同じ色になるので、マーカー文字列は見えません。 |BR|
    見えませんが、下記の画像の円の位置にマーカー文字列があります。

    .. image:: /dist/img/vim/txtfmt/txtfmt_marker.png
        :alt:  txtfmtプラグインのマーカー文字列


4. txtfmtプラグインで利用できるテキスト装飾
--------------------------------------------------------------------------------

txtfmtプラグインで利用できるテキスト装飾は、カラーと、フォーマットの2種類あり、 |BR|
カラーを設定する場合は、

.. parsed-literal::
    :class: console

    c{色を示すキーワード}

と指定し、

.. csv-table:: 色を示すキーワード。cフラグと共に使用する。（一部）
    :header: キーワード, 設定される色, 説明, 指定の仕方

    r , レッド   , 文字色を赤にする , cr
    b , ブルー   , 文字色を青にする , cb
    g , グリーン , 文字色を緑にする , cg

|BR|

フォーマットを指定する場合は、

.. parsed-literal::
    :class: console

    f{フォーマットを示すキーワード}

と、txtfmtプラグインのプロンプトで指定します。

.. csv-table:: フォーマットを示すキーワードの例。fフラグと共に使用する。（一部）
    :header: キーワード, 設定されるテキストフォーマット, 説明, 指定の仕方

    u , underline , 文字をアンダーラインつきにする , fu
    b , bold      , 文字をボールドにする           , fb
    i , italic    , 文字をイタリックにする         , fi

|BR|

表は利用できるテキスト装飾の一覧ですが、この一覧の他にも利用できる装飾はあります。

.. note::

    残念ながら、利用しているフォントの種類によっては利用できない（指定しても有効にならない） |BR|
    種類のテキスト装飾があります。


5. さらに詳しく
--------------------------------------------------------------------------------

このページでは、txtfmtプラグインの簡単な使い方のみを紹介しました。 |BR|
次ページ以降には「こういった時はどうすれば良いのか」といった内容や、 |BR|
各機能の細かいオプションの説明を用意しておきましたので、興味があればご覧ください。



================================================================================
ページリンク
================================================================================

#. - `txtfmtテキスト装飾プラグイン #1 インストールから簡単な使い方まで`_
#. `txtfmtテキスト装飾プラグイン #2 ケース別操作方法`_
#. `txtfmtテキスト装飾プラグイン #3 落ち穂拾い、各機能詳細`_

.. _`txtfmtテキスト装飾プラグイン #1 インストールから簡単な使い方まで`: `doc_txtfmt`_
.. _`txtfmtテキスト装飾プラグイン #2 ケース別操作方法`: `doc_txtfmt_case`_
.. _`txtfmtテキスト装飾プラグイン #3 落ち穂拾い、各機能詳細`: `doc_txtfmt_details`_

.. _`txtfmt`: http://www.vim.org/scripts/script.php?script_id=2208
.. _`doc_txtfmt`: /articles/vim/txtfmt/txtfmt_vim.html
.. _`doc_txtfmt_case`: /articles/vim/txtfmt/txtfmt_vim_case.html
.. _`doc_txtfmt_details`: /articles/vim/txtfmt/txtfmt_vim_case.html



