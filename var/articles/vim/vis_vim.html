.. vim:set expandtab ff=unix ft=rest :

..  vis.vim : ビジュアルモードで選択した範囲に検索やコマンドを実行

..  Visualモードで選択したエリアに対して、
    検索、および、コマンドを実行することができます。
    (Windows, Mac)

.. |BR| raw:: html

    <br />

.. |yen|    unicode:: U+000A5 .. YEN SIGN

.. role:: raw-html(raw)
    :format: html

.. contents::

================================================================================
概要
================================================================================

vis.vim : Visual Commands, Substitutes, and Searches (visual line, character, and block) |BR|
http://www.vim.org/scripts/script.php?script_id=1195

visualモードで選択したエリアに対して、
検索、および、コマンドを実行することができます。



================================================================================
インストール方法
================================================================================

`スクリプト`__ をダウンロードしてください。 |BR|
このファイルは圧縮形式で配布されているので、解凍ツールで解凍し、 |BR|
生成されたvis.vimスクリプトをpluginディレクトリにコピーしてください。

__ http://www.vim.org/scripts/script.php?script_id=1195

更に、このスクリプトの動作に必要な `cecutil.vimスクリプト`__ もインストールします。 |BR|
このファイルも解凍後、pluginディレクトリにコピーしてください。

__ http://www.vim.org/scripts/script.php?script_id=1066

ここまでの作業が終わったら、一旦、vimエディタを起動します。
これでインストール作業の終了です。

.. csv-table::
    :header: ファイル, URL

    vis.vim.gz, http://www.vim.org/scripts/script.php?script_id=1195
    cecutil.vim.gz, http://www.vim.org/scripts/script.php?script_id=1066



================================================================================
使用方法
================================================================================

コマンド、検索を実行したいエリアを選択した後、 |BR|
その指定のエリアに対して、「:S」で検索、「:B」でコマンドが実行できます。

.. csv-table::
    :header: 書式, 説明

    ":'<,'>B 実行するコマンド", "選択したエリアに対してコマンドを実行します。"
    ":'<,'>S 検索するパターン", "選択したエリアに対して検索を実行します。"


コマンドの実行
-------------------------------------------------------------------------------

Visualモードで選択して「:B」を入力、 |BR|
スペースを空けて、実行したいコマンドを入力します。

.. parsed-literal::
    :class: console

    **" コマンドの入力例**
    :'<,'>B s/pre/post/g

.. image:: /dist/img/vim/vis_select.jpg
    :alt:  コマンドの実行を行いたい範囲を選択して

コマンドを実行したいエリアを選択します。 |BR|
Visualモードで Ctrl-v (Cntrolキーを押しながらvキー) を入力すると、エリアを選択できます。 |BR|

↓

.. image:: /dist/img/vim/vis_input.jpg
    :alt:  コマンドの入力の例

選択したエリアに対してコマンドを実行します。 |BR|
Visualモードで範囲を選択した状態で「:」を入力すると、エディタの一番下のコマンドラインが

.. parsed-literal::
    :class: console

    **" Visualモードで「:」を入力するとこうなる。**
    :'<,'>

となるので、 |BR|
ここから続けてコマンドを入力します。

↓

Enterキーを入力するとコマンドを実行します。

.. image:: /dist/img/vim/vis_execute.jpg
    :alt:  コマンドの実行


検索の実行
-------------------------------------------------------------------------------

Visualモードで選択して「:S」を入力、 |BR|
スペースを空けて、検索したいパターンを入力します。

.. parsed-literal::
    :class: console

    **" 検索の入力例**
    :'<,'>S search_word



