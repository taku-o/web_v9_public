.. vim:set expandtab ff=unix ft=rest :

..  zshr.vim : 直前に実行したコマンドを少し変更して実行する。zshシェルのrコマンド。

..  直前に実行したvimエディタのコマンドの一部を置き換えてから、
    再度実行するコマンドを提供するスクリプト。
    (Windows, Mac)

.. |BR| raw:: html

    <br />

.. |yen|    unicode:: U+000A5 .. YEN SIGN

.. role:: raw-html(raw)
    :format: html

.. contents::

================================================================================
概要
================================================================================

zshr.vim : 直前に実行したコマンドを少し変更して実行する。zshシェルのrコマンド。 |BR|
http://indefero.taku-o.net/index.php/p/download/source/file/master/zshr.vim

直前に実行したvimエディタのコマンドの一部を置き換えてから、 |BR|
再度実行するコマンドを提供するスクリプト。



================================================================================
インストール方法
================================================================================

`スクリプト`__ をダウンロードして、 |BR|
pluginディレクトリにコピーしてください。

__ http://indefero.taku-o.net/index.php/p/download/source/file/master/zshr.vim

.. csv-table::
    :header: "ファイル", "URL"

    "zshr.vim", "http://indefero.taku-o.net/index.php/p/download/source/file/master/zshr.vim"



================================================================================
使用方法
================================================================================

コマンドのフォーマット
--------------------------------------------------------------------------------

このスクリプトで定義される「:R」コマンドのフォーマットは、次のとおりです。

.. parsed-literal::
    :class: console

    :R {置き換え前1}={置き換え後1} [{置き換え前2}={置き換え後2} {置き換え前3}={置き換え後3} ...]

「:R」コマンドを実行すると、直前（1回前）に実行したコマンドに含まれる置き換え前文字列を、 |BR|
置き換え後文字列で置き換えてから、再度、コマンドを実行します。


スクリプトの使い方の例
--------------------------------------------------------------------------------

具体的な「:R」コマンドの使い方の例を挙げます。

まず、次の処理をvimエディタで実行します。

.. parsed-literal::
    :class: console

    :w foo_abc.txt

続いて、次のように「:R」コマンドを実行します。

.. parsed-literal::
    :class: console

    :R abc=xyz

すると、zshr.vimスクリプトはコマンド履歴から最後のコマンドを取り出し、 |BR|
コマンドを置換してから、再度実行します。

.. parsed-literal::
    :class: program

    :w foo_abc.txt
    
    ↓ 「abc」を「xyz」に置換してから実行
    
    :w foo_xyz.txt

複数箇所の置換を一度に行うには、次のようにパラメータを連続で指定します。

.. parsed-literal::
    :class: console

    :R xyz=def foo=var txt=log

.. parsed-literal::
    :class: program

    :w foo_xyz.txt
    
    ↓ 「xyz」を「def」に置換
    ↓ 「foo」を「var」に置換
    ↓ 「txt」を「log」に置換
    ↓ 実行
    
    :w var_def.log



================================================================================
注意事項など
================================================================================

コマンドの履歴を見るには、ノーマルモードで次のコマンドを実行してください。

.. parsed-literal::
    :class: console

    q:



