.. vim:set expandtab ff=unix ft=rest :

..  narrow.vim : Emacsのナローイングの機能をエミュレート

..  narrow.vimスクリプトは、選択した一部分を除いて、
    その他残りの部分のテキストをフォールディングで隠す機能を提供するスクリプトです。
    余計な部分を隠して集中して作業したい場合に、
    または、見せたい部分以外を隠したい場合などに利用できます。
    (Windows, Mac)

.. |BR| raw:: html

    <br />

.. |yen|    unicode:: U+000A5 .. YEN SIGN

.. role:: raw-html(raw)
    :format: html

.. contents::

================================================================================
概要
================================================================================

narrow : emulates Emacs' narrowing feature. |BR|
http://www.vim.org/scripts/script.php?script_id=2097

narrow.vimスクリプトは、選択した一部分を除いて、 |BR|
その他残りの部分のテキストをフォールディングで隠す機能を提供するスクリプトです。 |BR|
余計な部分を隠して集中して作業したい場合に、
または、見せたい部分以外を隠したい場合などに利用できます。



================================================================================
インストール方法
================================================================================

スクリプトのコピー
-------------------------------------------------------------------------------

まず、 `圧縮ファイルで配布されているスクリプトをダウンロード`__ して入手してください。 |BR|

__ http://www.vim.org/scripts/script.php?script_id=2097

.. parsed-literal::
    :class: program

    ├─autoload/
    │      narrow.vim
    ├─doc/
    │      narrow.txt
    └─plugin/
            narrow.vim

何らかの解凍ツールでファイルを解凍すると、上の図のような構成で展開されるので、 |BR|
autoload、doc、pluginディレクトリのファイルをそれぞれを、 |BR|
設定ファイルディレクトリ（$HOME/vimfiles、$HOME/.vim）の
同名のディレクトリ内にコピーしてください。


「:helptags」コマンドの実行
-------------------------------------------------------------------------------

vimエディタを起動し、次のコマンドを実行して、 |BR|
narrow.vimスクリプトのドキュメントをvimエディタに読み込ませます。

.. parsed-literal::
    :class: program

    **" Windows環境のvimエディタの場合**
    :helptags $HOME/vimfiles/doc
    
    **" Mac OSX環境のvimエディタの場合**
    :helptags $HOME/.vim/doc

これでスクリプトの実行環境が整います。

.. csv-table::
    :header: "ファイル", "URL"

    "vim-narrow-##.##.zip", "http://www.vim.org/scripts/script.php?script_id=2097"



================================================================================
スクリプトの使い方
================================================================================

narrow.vimスクリプトをインストールすると、「:Narrow」コマンドと「:Widen」コマンド、 |BR|
2つのコマンドを使用できるようになります。

「:Narrow」コマンドの使い方
-------------------------------------------------------------------------------

「:Narrow」コマンドは、ナローイングを実行するコマンドです。 |BR|
ナローイングしたいエリアをビジュアルモードで選択するか、コマンドで指定して、 |BR|
「:Narrow」コマンドを実行すると、指定した範囲以外がフォールディングで隠されます。

.. parsed-literal::
    :class: console

    **" ビジュアルモードで選択した範囲にナローイング**
    :'<,'>:Narrow
    
    **" 34行目から、40行目までにナローイング**
    :34,40:Narrow

.. image:: /dist/img/vim/narrow_narrowing.jpg
    :alt:  範囲を選択し、コマンドを実行すると、ナローイングされる。


「:Widen」コマンドの使い方
-------------------------------------------------------------------------------

「:Narrow」コマンドは、「:Narrow」コマンドで実行したナローイングを解除するコマンドです。 |BR|
「:Widen」とコマンドを実行すると、フォールディングが展開されます。

.. parsed-literal::
    :class: console

    :Widen

.. image:: /dist/img/vim/narrow_widen.jpg
    :alt:  コマンドを実行すると、ナローイングが解除される。



================================================================================
注意事項など
================================================================================

ナローイングを行った後、別の場所をナローイングしなおすには、 |BR|
一度、「:Widen」コマンドでナローイングを解除する必要があります。





