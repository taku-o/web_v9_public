.. vim:set expandtab ff=unix ft=rest :

..  欧文スペルチェッカー GNU Aspell

..  欧文のスペルミスをチェックするためのアプリケーションです。
    スペルのミスが無いか判定したり、
    単語のスペルミスを指摘し、それぞれのスペルミスに対して、
    正しいスペリングの候補をリストアップしてくれたりできます。
    (Windows, Mac)

.. |BR| raw:: html

    <br />

.. |yen|    unicode:: U+000A5 .. YEN SIGN

.. role:: raw-html(raw)
    :format: html

.. contents::

================================================================================
概要
================================================================================

Aspellは欧文専用のコマンドライン スペルチェック アプリケーションです。
スペルの綴りの誤りを指摘し、修正候補をリストアップしてくれます。 |BR|
このAspellは2種類の方法で利用することができ、
フィルターとして利用したり、対話型インターフェイスでスペルミスを順次修正したりできます。 |BR|
対話型インターフェイスでは、
置換え候補のスペルも提示してくれます。



================================================================================
インストール方法 (Windows)
================================================================================

download (Windows)
-------------------------------------------------------------------------------

まず、Aspellの実行環境と、スペルチェック対象の言語の辞書ファイルを入手します。 |BR|
下ののサイトから、Windows用インストーラー(installer)をダウンロードします。

`GNU Aspell (Win32 version)`__

__ http://aspell.net/win32/

それから、スペルチェックを行いたい言語の辞書ファイル(Precompiled dictionaries)を
ダウンロードします。 |BR|
英語のチェックを行いたいならEnglishから、
スペイン語のチェックを行いたいならSpanishから、
辞書ファイルをダウンロードすれば良いでしょう。


install
-------------------------------------------------------------------------------

ダウンロード後、Aspell、辞書ファイルの順にインストールを行います。 |BR|
ダウンロードしたファイルは共にインストーラーになっているので、
ダブルクリック後、インストーラーの指示に従うだけで良いはずです。 |BR|
好みの場所にインストールしましょう。

.. image:: /dist/img/others/aspell_win_inst.jpg
    :alt:  インストールするディレクトリは一緒にする

実行環境と、辞書ファイルのインストールするディレクトリは一緒にしておきましょう。

.. image:: /dist/img/others/aspell_dict_win_inst.jpg
    :alt:  replace TmpInstall/data/en.dat

辞書ファイルのインストール時に、
次のメッセージが表示される場合があります。 |BR|
気にせずに、「A」と入力後、Enterキーを押してください。


PATHへの追加
-------------------------------------------------------------------------------

.. image:: /dist/img/others/aspell_win_setting.jpg
    :alt:  環境変数PATHに追加する(XP)

最後に実行環境のインストールディレクトリにある
binディレクトリを環境変数PATHに追加します。 |BR|
環境PATHへの追加の仕方はOSの種類によって異なります。 |BR|
詳しく知りたい方は申し訳ありませんが、自分で調べください。



================================================================================
インストール方法 (Mac)
================================================================================

ソースの入手、コンパイル、インストールを行います。 |BR|
rootユーザーを有効にしており、
Terminalアプリケーションの使い方を多少なりとも知っていることを前提とします。


download (Mac)
-------------------------------------------------------------------------------

Aspellのソースと、スペルチェックを行いたい言語の辞書ファイルが必要です。
下記のサイトから必要なものをダウンロードしてください。

`GNU Aspell`__

__ http://aspell.net/

2003年9月20日現在、 |BR|
辞書ファイルは「Available Dictionaries」のリンクから、 |BR|
指定の言語のディレクトリ(英語であればenディレクトリ)に行けばダウンロードできます。


compile, install
-------------------------------------------------------------------------------

Aspellと、辞書ファイルのソースを入手したら、コンパイル、インストールします。 |BR|
圧縮ファイルを解凍後、できたディレクトリに、Terminalで移動します。

その後、Aspellであれば、

.. parsed-literal::
    :class: console

    **# Aspellのコンパイル、インストール**
    ./configure --enable-static --disable-shared
    make
    sudo make install

辞書ファイルであれば、

.. parsed-literal::
    :class: console

    **# 辞書ファイルのコンパイル、インストール**
    ./configure
    make
    sudo make install

でコンパイル、インストールできます。


PATHを通す
-------------------------------------------------------------------------------

Aspellのコンパイル、インストール中の

.. parsed-literal::
    :class: console

    ./configure

を実行したときに何らかのオプションを指定しない限り、 |BR|
/usr/local/binディレクトリ(Finderからは見えません)に、
Aspellの実行ファイルがインストールされます。 |BR|
この実行ファイルのあるディレクトリにPATHが通っていないのであれば、
PATHを通して、コマンドを実行可能にします。 |BR|
PATHの通し方は、環境によって異なります。 |BR|
詳しく知りたい方は申し訳ありませんが、自分で調べください。



================================================================================
設定ファイルの作成
================================================================================

このAspellは、いくつかの実行オプションを持っています。 |BR|
よく使うオプションは設定ファイルを用意して、そちらに書き込んだ方が便利でしょう。 |BR|
(設定ファイルが無くても困ることはありません。)

設定ファイルのファイル名は、デフォルトでは、

.. parsed-literal::
    :class: program

    .aspell.conf

です。 |BR|
このファイルを環境変数HOMEで設定してあるディレクトリに置くと、
Aspellは実行時に、このファイルを読み込みます。


Windows初心者の方へ
-------------------------------------------------------------------------------

環境変数HOMEが設定されていないのなら、PATHを設定した時と同様に設定します。 |BR|
既に環境変数HOMEが設定されていた場合には、むやみにその値を変更してはいけません。 |BR|
環境変数HOMEを設定したら、その環境変数HOMEで指定したディレクトリに設定ファイルを置きます。

設定ファイルはテキストエディタを使用して作成します。 |BR|
エクスプローラーでは、別の名前を持つファイルを、
今回の設定ファイルのように「.(ドット)」から始まるファイル名に
変更することはできませんので、その点には気をつけてください。


Mac OSX初心者の方へ
-------------------------------------------------------------------------------

環境変数HOMEは「ホーム」というアイコンを押した時に移動する、
各ユーザー用のディレクトリに設定されています。 |BR|
このディレクトリに設定ファイルを置きます。

通常、「.(ドット)」から始まるファイルは、Finderからは見ることはできませんので、
その点には気をつけてください。 |BR|
設定ファイルはテキストエディタを使用して作成します。


設定ファイル詳細
-------------------------------------------------------------------------------

設定の形式は次のとおりです。 |BR|
オプションと値の間の空白スペースは、いくつあっても構いません。
空白スペースがいくつあっても、Aspellの実行には影響を与えません。

.. parsed-literal::
    :class: program

    設定したいオプション 設定する値

設定するオプションの値は、
下記の3種類のどれかになります。

- boolean(2つに1つ。true、またはfalseを指定する)
- value(値をとる。文字など)
- list(複数の値をとる)

「#」で始まる行はコメントとみなされます。「#」で始まる設定ファイル内の行には、
何を書いたとしても、Aspellの実行には影響を与えません。

.. csv-table:: 主要なオプション
    :header: オプション, 値の種別, 説明, 設定例

    lang, value, スペルチェックを行う言語を指定します。en(英語)、es(スペイン語)、fr(フランス語)、it(イタリア語)など。, lang en
    ignore-case, boolean, スペルチェックを行う際に大文字、小文字の区別を無視するかどうか。, ignore-case true
    ignore-accents, boolean, スペルチェックを行う際に、アクセント記号を無視するかどうか。, ignore-accents false
    mode, value, スペルチェックするテキストの種類を指定する。この種類のファイルでしか使わない、というのでなければ、実行時に指定すべきでしょう。指定できる種類は、none、url、email、sgml、tex, mode text
    backup, boolean, 対話型スペルチェックを実行する際にバックアップを作成するか、しないか。バックアップファイルには「.bak」という拡張子が付きます。, backup true

上のオプションの他に、フィルター系のオプションがかなりあります。 |BR|
詳しくはドキュメントを参照してください。



================================================================================
フィルターとして使用する
================================================================================

フィルターとして、Aspellを使用する場合は、 |BR|
DOSプロンプト(Windows)、もしくはTerminal(Mac OSX)から
以下のコマンドを実行します。

.. parsed-literal::
    :class: console

    aspell -l < 調べたいファイル

あるいは、下のコマンドで実行します。

.. parsed-literal::
    :class: console

    aspell -l < 標準入力

フィルターとして、スペルチェックを実行した結果、
スペルミスのあったスペルを見つけた順に出力します。 |BR|
何も出力されなかった場合には、スペルミスが見つからなかったということになります。

.. image:: /dist/img/others/aspell_filter.jpg
    :alt:  実際にフィルターとして使用してみた結果。



================================================================================
対話型インターフェイスで使用する
================================================================================

対話型インターフェイスを使用してみましょう。

基本的には、DOSプロンプト(Windows)、もしくはTerminal(Mac OSX)から
以下のコマンドで実行可能です。

.. parsed-literal::
    :class: console

    aspell -c 調べたいファイル

「基本的には」というのは、
tex文書やhtml文書など、その書式で決められているアルファベットの綴りがある場合に、
その綴りをスペルミスと認識されてしまうと、結構困った事になります。 |BR|
そこでAspellは、フィルターをかけて、
そういった間違ったチェックを行わないようにすることができます。 |BR|
スペルチェックを行う際は、チェックする文書の形式も指定しましょう。

.. csv-table::
    :header: 書式オプション, 対応する書式

    -e, Emailの書式
    -H, HTML、もしくはSGMLの書式
    -t, TEXの書式

例えば、HTML文書のスペルチェックを行いたい場合は、
次のように、実行することになります。

.. parsed-literal::
    :class: console

    aspell -c -H 調べたいHTMLファイル

この対話型インターフェイスを使用すると、
デフォルトでは、「.bak」の拡張子の付いたファイルが作成されます。 |BR|
このバックアップの作成は、-xオプションで抑制することができます。 |BR|
バックアップファイルの指定は、設定ファイルの中で設定しておいても良いです。

.. csv-table::
    :header: オプション, 効果

    -b, 「.bak」の拡張子の付いたバックアップファイルを作成する
    -x, バックアップファイルを作成しない

普段使わない種類の言語のテキストファイルのスペルチェックを行いたいことも
あるかと思います。 |BR|
その場合は、--langオプションで指定します。
このオプションは値をとります。 |BR|
フランス語のtexファイルを、バックアップファイルを作成しないで、
スペルチェックしたい時は、次の通り指定することになります。

.. parsed-literal::
    :class: console

    aspell --lang=fr -x -c -t 調べたいtexファイル

では、そろそろ、対話型インターフェイスを実際に使用してみます。

DOSプロンプト(Windows)、もしくはTerminal(Mac OSX)から実行すると、
スペルミスがあったら、そのスペルミスのある箇所を、ハイライトして次のような画面を
表示します。 |BR|
スペルミスのなかった場合は、何も出力せずに終了します。

.. image:: /dist/img/others/aspell_check.jpg
    :alt:  対話型インターフェイス

1) ～ 0)までが置換を示します。(画面上は9までしかありませんが、最大10種表示されます。)

Aspellはスペルミスと思われる語の置換え候補を挙げてくれますので、
置換え候補が適切な場合は、その語と置換えると良いでしょう。 |BR|
上の例では、Aspellが「Queeqeg's」というスペルに対して、
正しいと思われる候補を、9種類挙げてくれているのです。 |BR|
キーボードで置換えたいスペルの数値を押すと、ハイライトしている箇所が、指定の番号の綴りで
置換えられます。

.. csv-table::
    :header: キー, 効果

    0-9, 提示された修正候補で、ハイライトしたスペルを置換えます。
    i, ハイライトしている語の次のスペルミスの箇所に移動します。
    I, ハイライトしているスペルの次のスペルミスの箇所に移動します。
    r, ハイライトしている語を置き換える語を、自分で指定します。
    R, ハイライトしているスペルを置き換えるスペルを、自分で指定します。
    a, ハイライトしているスペルをユーザー辞書に追加します。
    A, ハイライトしているスペルを小文字に変換後、ユーザー辞書に追加します。
    b, 変更を破棄してAspellを終了します。
    x, 変更を保存してAspellを終了します。

この画面で、「r」、もしくは「R」を押すと、
下の画面に遷移します。

この画面の操作方法は、すぐに分かると思います。 |BR|
置換えるスペルを指定して、Enterキーを押せば、ハイライトしている語が
入力した語で置換えられます。

.. image:: /dist/img/others/aspell_replace.jpg
    :alt:  置き換え中

「b」、「x」を押すか、ファイルの最後までスペルチェックを行うと、
Aspellは終了します。



================================================================================
使用方法 (vim編)
================================================================================

Aspellのドキュメントでは、次のようなvimでの使用方法が挙げられています。

.. parsed-literal::
    :class: program

    map ^T :w!<CR>:!aspell check %<CR>:e! %<CR>

この設定をvimの設定ファイルに書くと、

.. parsed-literal::
    :class: console

    Ctrl-T

を押すたびに、Aspellのスペルチェックが走ります。 |BR|
このスペルチェックはファイルの一番上の行から行われます。

`vimspell`__ というvimスクリプトもあるので、 |BR|
vimと組み合わせるのであれば、こちらを利用しても良いでしょう。

__ http://www.vim.org/scripts/script.php?script_id=465



================================================================================
注意事項など
================================================================================

似たアプリケーションとして、「Ispell」というアプリケーションがあり、 |BR|
AspellとIspellではIspellの方が有名です。

Ispellに関してはvimとの連携で用いる場合の使用例がいくつかあり、
それらの例は、大抵、Aspellでも同じ様に使用することができます。



