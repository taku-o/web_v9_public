.. vim:set expandtab ff=unix ft=rest nowrap :

..  コマンドや設定が重複して何度も読み込まれるのを防ぐ

..  

.. |BR| raw:: html

    <br />

.. |yen|    unicode:: U+000A5 .. YEN SIGN

.. role:: raw-html(raw)
    :format: html

.. contents::

================================================================================
コマンドや設定が重複して何度も読み込まれるのを防ぐ
================================================================================

コマンド定義やautocmd、あるいは重い初期化処理などは、
何度も実行されると都合の悪い場合が多い。
そこで、スクリプトの最初に下のようなコードを書いておくと、
何度も無駄に同じ処理が実行されるのを防げる。

.. parsed-literal::
    :class: program

    :if exists("g:loaded_XXXXX")
        :finish
    :endif
    :let g:loaded_XXXXX = 1

変数名は、他のプラグインと重複しないような名前にすること。

.. note::

    多重ロードチェックの変数のスコープはグローバルにすべきか、
    スクリプトスコープにすべきか。 |BR|
    グローバルスコープの場合は、外部から（例えば_vimrcから）
    スクリプトのロードを制御できる。



