.. vim:set expandtab ff=unix ft=rest :

..  直前まで開いていたファイルを開きなおす。

..  あるファイルを開いた直後に、
    直前まで開いていたファイルを、すぐにもう一度開きたくなることは良くあります。
    vimエディタでは、直前まで開いていたファイルを「#」で指定できます。
    今回の記事で説明する方法は、2つのファイルを行き来する時にも利用できます。
    (Windows, Mac)

.. |BR| raw:: html

    <br />

.. |yen| unicode:: U+000A5 .. YEN SIGN

.. role:: raw-html(raw)
    :format: html

.. contents::

================================================================================
概要
================================================================================

あるファイルを開いた直後に、 |BR|
直前まで開いていたファイルを、すぐにもう一度開きたくなることは良くあります。 |BR|
vimエディタでは、直前まで開いていたファイルを「#」で指定できます。 |BR|
今回の記事で説明する方法は、2つのファイルを行き来する時にも利用できます。



================================================================================
「#」の使い方
================================================================================

直前まで開いていたファイルを開きなおすには、次のコマンドを入力します。 |BR|
ファイルを開くと、当然、「今開いているファイル」は「直前に開いていたファイル」扱いになります。

.. parsed-literal::
    :class: console

    **" 拡張子.bkをつけて、ファイルに保存**
    :b #

「#」をvimエディタのコマンドで使用すると、 |BR|
コマンド実行時に、「#」は「直前まで開いていたファイルのパス」に置き換わります。


.. note::

    ノーマルモードで :raw-html:`<kbd>Control</kbd>` キーを押しながら :raw-html:`<kbd>^</kbd>` キーでも、
    直前に開いていたファイルに移動できます。 |BR|
    :raw-html:`<kbd>Control-^</kbd>` の機能は、 :raw-html:`<kbd>:e #</kbd>` と同じです。

    .. parsed-literal::
        :class: console

        Control-^



================================================================================
同時に覚えておくと良いこと
================================================================================

「%」
--------------------------------------------------------------------------------

「#」ではなく、「%」をvimエディタのコマンドで使用すると、 |BR|
コマンド実行時に、「%」は「今開いているファイルのパス」と置き換わります。 |BR|
バックアップ用途などに「%」の使い方も覚えておくと便利です。

.. parsed-literal::
    :class: console

    **" 拡張子.bkをつけて、ファイルに保存**
    :w %.bk



<C-o>
--------------------------------------------------------------------------------

ノーマルモードで :raw-html:`<kbd>Control</kbd>` キーを押しながら :raw-html:`<kbd>o</kbd>` キーを押すと、
直前にカーソルがあった位置まで戻れるので、 |BR|
ファイルを開いた直後であれば、 :raw-html:`<kbd>Control-o</kbd>` でも、
「直前まで開いていたファイル」へ移動する用途に利用できます。



================================================================================
注意点など
================================================================================

残念ながら、バッファ管理系のvimスクリプトの中には、 |BR|
この方法と相性の悪いものも存在します。



