.. vim:set expandtab ff=unix ft=rest :

..  ファイルの文字コード、フォーマットを指定して、読み直す。

..  vimエディタでテキストファイルを開いた時に、
    ファイルのエンコーディングや改行を正しく解釈できない場合があります。
    この記事では、そのような場合のファイルの読み直し方について説明します。
    この機能は、他のエディタの「文字コードを指定して読み直す」「改行コードを指定して読み直す」
    の機能にあたります。
    (Windows, Mac)

.. |BR| raw:: html

    <br />

.. |yen| unicode:: U+000A5 .. YEN SIGN

.. role:: raw-html(raw)
    :format: html

.. contents::

================================================================================
概要
================================================================================

vimエディタでテキストファイルを開いた時に、
ファイルのエンコーディングや改行を正しく解釈できない場合があります。 |BR|
この記事では、そのような場合のファイルの読み直し方について説明します。 |BR|
この機能は、他のエディタの「文字コードを指定して読み直す」「改行コードを指定して読み直す」
の機能にあたります。 |BR|
（機能の名称はエディタによって異なるでしょう）



================================================================================
エンコーディングを指定してファイルを開き直す
================================================================================

「++enc」オプションの使い方
--------------------------------------------------------------------------------

vimエディタでエンコーディングを指定してファイルを開きなおすには、 |BR|
ファイルを開く際、「++enc={文字コード}」と指定します。

.. parsed-literal::
    :class: console

    **" ファイルのエンコーディングを指定して開き直す。**
    :e ++enc={エンコーディング}


「++enc」オプションの使用例
--------------------------------------------------------------------------------

具体的なコマンドの例は次のようになります。 |BR|
日本では、次の3種のコマンドを覚えておけば、（それほど）困らなくなります。

.. parsed-literal::
    :class: console

    **" エンコーディングeuc-jpを指定して開き直す。**
    :e ++enc=euc-jp
    
    **" エンコーディングshift_jisを指定して開き直す。**
    :e ++enc=shift_jis
    
    **" エンコーディングutf-8を指定して開き直す。**
    :e ++enc=utf-8

.. image:: /dist/img/howto/file/pp_enc_euc.jpg
    :alt:  文字化けしたファイル

↓（この機能を使用すると文字化けしたファイルを、正しい状態で開きなおせます。）

.. image:: /dist/img/howto/file/pp_enc_sjis.jpg
    :alt:  文字化けしていないファイル



================================================================================
改行コードを指定してファイルを開き直す
================================================================================

「++ff」オプションの使い方
--------------------------------------------------------------------------------

vimエディタでファイルの改行コードを指定してファイルを開きなおすには、 |BR|
ファイルを開く際、「++ff={ファイルのフォーマット}」と指定します。

.. parsed-literal::
    :class: console

    **" ファイルの改行コードを指定して開き直す。**
    :e ++ff={ファイルのフォーマット}


「++ff」オプションの使用例
--------------------------------------------------------------------------------

具体的なコマンドの例は次のようになります。

.. parsed-literal::
    :class: console

    **" Windowsの形式を指定して開き直す。**
    :e ++ff=dos
    
    **" Macの形式を指定して開き直す。**
    :e ++ff=mac
    
    **" Unixの形式を指定して開き直す。**
    :e ++ff=unix

.. image:: /dist/img/howto/file/pp_ff_mac.jpg
    :alt:  改行がくずれたファイル

↓（この機能を使用すると改行が崩れたファイルを、正しい状態で開きなおせます。）

.. image:: /dist/img/howto/file/pp_enc_sjis.jpg
    :alt:  改行が正しいファイル



================================================================================
「++enc」「++ff」を同時に指定する場合のコマンド例
================================================================================

「++enc」「++ff」、2つのオプションを同時に指定することもできます。 |BR|
2つのオプションを同時に指定する場合、次のようにコマンドを実行します。

.. parsed-literal::
    :class: console

    :e ++ff=unix ++enc=utf-8


.. note::

    一度開いてから、読み込みなおすだけでなく、 |BR|
    初めてファイルを開く時でも、オプションの指定は出来ます。

    .. parsed-literal::
        :class: console

        :e ++enc=utf-8 sample.txt




