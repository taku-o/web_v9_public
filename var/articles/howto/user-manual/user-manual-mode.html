.. vim:set expandtab ff=unix ft=rest :

..  vimエディタ・スターターマニュアル #2 （モードの切替）

..  vimエディタをはじめて扱う人が、だましだましvimエディタでの作業を開始できるようにするための、チュートリアルよりも小さな、しかし必要な情報は盛り込んだ、最小のユーザマニュアルを目指して作成したドキュメントです。
    このページでは、
    vimエディタのモードについて～
    モードの切り替え～
    ファイルを開く～
    カーソルの移動～
    テキストの入力～
    コマンドの実行
    までを扱います。
    (Windows, Mac)

.. |BR| raw:: html

    <br />

.. |yen| unicode:: U+000A5 .. YEN SIGN

.. role:: raw-html(raw)
    :format: html

.. contents::

================================================================================
vimエディタのモードについて
================================================================================

vimエディタはモードと呼ばれる状態を持つエディタです。 |BR|
それぞれのモードではできる事、できない事が異なるため、vimエディタでは、

- ある作業Aを行うためにモードAに切り替え、
- ある作業Bを行うためにモードBに切り替え、

というように、いくつかのモードを切替えながら編集作業を行います。


モードの種類と、それぞれのモードでできること
-------------------------------------------------------------------------------

このドキュメントに出てくるvimエディタのモードには、次のものがあります。

.. csv-table::
    :header: モード, 主にどのような操作ができるか

    ノーマル, カーソルの移動。他のモードへの移行。テキストのコピー、カット、ペースト。
    入力, テキストの入力、編集。
    コマンドライン, vimエディタコマンドの実行。コマンドの実行によるファイルの保存、テキストの置換。
    ビジュアル, テキストの選択。
    検索 [*]_ , テキストの検索。

.. [*]
    このドキュメントではモードの一種として説明してしまう。



================================================================================
モードの切り替え
================================================================================

モードはノーマルモードが基本となり、他の各モードにはノーマルモードから移行します。 |BR|
今どのモードにいるかわからなくなった場合は、 :raw-html:`<kbd>ESC</kbd>` キーを押すとノーマルモードに戻れます。

.. csv-table::
    :header: モードの遷移, モードを変更するために入力するキー

    ノーマル → 入力, "i"
    ノーマル → コマンドライン, "\:"
    ノーマル → ビジュアル, "v"
    ノーマル → 検索, "\/"
    入力 → ノーマル, "<ESC>"
    コマンドライン → ノーマル, "<ESC>"
    ビジュアル → ノーマル, "<ESC>"
    検索 → ノーマル, "<ESC>"

.. image:: /dist/img/howto/user-manual/change-mode.png
    :alt:  モードの遷移図
    :class: image-border


ノーマルモードにモードを変更
-------------------------------------------------------------------------------

他のモードから、基本となるノーマルモードにモードを変更するには、 :raw-html:`<kbd>ESC</kbd>` キーを押します。



================================================================================
ファイルを開く
================================================================================

vimエディタでファイルを開くには、 |BR|
メニューからファイルを選択するか、

.. image:: /dist/img/howto/user-manual/open_file_with_menu.jpg
    :alt:  メニューからファイルを選択

|BR|
ファイルをドラッグアンドドロップで、 |BR|
エディタに落とします。

.. image:: /dist/img/howto/user-manual/open_file_with_dd.jpg
    :alt:  ドラッグアンドドロップでファイルを選択
    :class: image-border



================================================================================
カーソルの移動
================================================================================

vimエディタでは、カーソルの移動はノーマルモードで行います。 |BR|
ノーマルモードで :raw-html:`<kbd>k</kbd>` :raw-html:`<kbd>j</kbd>` :raw-html:`<kbd>h</kbd>`
:raw-html:`<kbd>l</kbd>` キーを押すと、カーソルが上下左右に移動します。 |BR|
（例えば、 :raw-html:`<kbd>h</kbd>` キーを押すと、カーソルが左に移動します。）

.. csv-table::
    :header: キー, カーソルの移動する方向

    k, ↑
    j, ↓
    h, ←
    l, →

.. image:: /dist/img/howto/user-manual/move_cursor_hjkl.jpg
    :alt:  カーソルの移動

.. note::

    vimエディタのモードを、他のモードからノーマルモードへ変更するには、
    :raw-html:`<kbd>ESC</kbd>` キーを押します。



================================================================================
テキストの入力
================================================================================

テキストの入力を行いたい場合は、モードを入力モードに変更してからテキストを入力します。 |BR|
入力モードに変更すると、カーソルが細いバーになります。 |BR|

.. image:: /dist/img/howto/user-manual/insert_mode.jpg
    :alt:  入力モードへ変更
    :class: image-border

|BR|
この状態で、通常のエディタのようにキーを入力すると、テキストが書き込まれます。 |BR|
vimエディタのモードを入力モードへ変更するには、ノーマルモードで :raw-html:`<kbd>i</kbd>` キーを押してください。

.. image:: /dist/img/howto/user-manual/insert_mode_input_text.jpg
    :alt:  テキストの入力
    :class: image-border

.. note::

    入力モードからノーマルモードに戻るには :raw-html:`<kbd>ESC</kbd>` キーを、 |BR|
    ノーマルモードから入力モードにモードを変更するには :raw-html:`<kbd>i</kbd>` キーを |BR|
    押します。



================================================================================
コマンドの実行
================================================================================

vimエディタでは、コマンドと呼ばれるものを入力すると、
コマンドに対応したvimエディタの機能を呼び出せます。 |BR|
ノーマルモードで :raw-html:`<kbd>:</kbd>` キーを押すと、vimエディタのモードがコマンドラインモードに変更され、
コマンドが入力できるようになります。

.. image:: /dist/img/howto/user-manual/commandline_mode.jpg
    :alt:  コマンドラインモードに変更

|BR|
この状態でvimエディタのコマンドを入力し、 :raw-html:`<kbd>Enter</kbd>` キーを押すと、 |BR|
入力したvimエディタの機能が呼び出されます。

.. image:: /dist/img/howto/user-manual/commandline_mode_input_command.jpg
    :alt:  コマンド入力、実行


vimエディタのコマンド
-------------------------------------------------------------------------------

vimエディタのコマンドには、次のようなものがあります。 |BR|
[ ]の表記は、その[ ]内のコマンドの入力を省略しても呼び出せることを表現しています。

.. csv-table::
    :header: コマンド, コマンドの実行によって呼び出される機能

    :w[rite], 編集したファイルの保存
    :q[uit], 編集中のファイルを閉じる

.. note::

    コマンドラインモードからノーマルモードに戻るには :raw-html:`<kbd>ESC</kbd>` キーを、 |BR|
    ノーマルモードからコマンドラインモードにモードを変更するには :raw-html:`<kbd>:</kbd>` キーを |BR|
    押します。



================================================================================
ページリンク
================================================================================

#. `vimエディタ・スターターマニュアル #1 （ドキュメントの表記）`__
#. - `vimエディタ・スターターマニュアル #2 （モードの切替）`__
#. `vimエディタ・スターターマニュアル #3 （カーソルの移動）`__
#. `vimエディタ・スターターマニュアル #4 （テキスト編集）`__
#. `vimエディタ・スターターマニュアル #5 （検索、置換）`__
#. `vimエディタ・スターターマニュアル #6 （複数のバッファの管理）`__
#. `vimエディタ・スターターマニュアル #7 （ホームディレクトリのファイル構成）`__
#. `vimエディタ・スターターマニュアル #8 （設定ファイル）`__

__ /articles/howto/user-manual/user-manual-description.html
__ /articles/howto/user-manual/user-manual-mode.html
__ /articles/howto/user-manual/user-manual-motion.html
__ /articles/howto/user-manual/user-manual-editing.html
__ /articles/howto/user-manual/user-manual-search.html
__ /articles/howto/user-manual/user-manual-buffer.html
__ /articles/howto/user-manual/user-manual-user-dir.html
__ /articles/howto/user-manual/user-manual-config.html



