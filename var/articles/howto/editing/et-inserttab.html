.. vim:set expandtab ff=unix ft=rest :

..  :set expandtab（:set et）設定の時に、タブ文字を挿入する

..  「:set expandtab」設定の時でも、Control-v Tabを使えば、タブ文字を入力できる。
    (Windows, Mac)

.. |BR| raw:: html

    <br />

.. |yen|    unicode:: U+000A5 .. YEN SIGN

.. role:: raw-html(raw)
    :format: html

.. contents::

================================================================================
概要
================================================================================

Vimエディタの設定ファイルで「:set expandtab」と設定しておくと、
入力モードでTabキー押下時やインデントの際、タブ文字ではなく、半角スペースが挿入されるようになります。

しかし、個人で作業している場合ならともかく、メンバーを組んで作業している場合には、
タブ文字の使われているファイルを編集しなければならないことも当然あり、
かつ、むやみに :raw-html:`<kbd>:retab</kbd>` コマンドでタブ半角スペース変換してしまうわけにもいきません。

さて、そのような場合、行いたい編集が大規模なものでなく、少数のタブ文字を入れたいだけなのであれば、
入力モードで :raw-html:`<kbd>Control-v &lt;Tab&gt;</kbd>` と入力すればタブ文字を挿入できるので、
これだけで十分、必要を満たせるでしょう。

.. note::

    単純にタブを入力しようとすると、空白スペースが挿入されてしまう。



================================================================================
タブ文字挿入
================================================================================

まず、 :raw-html:`<kbd>i</kbd>` キーあたりを使用して入力モードになり、

.. image:: /dist/img/howto/editing/et-inserttab-initial.png
    :alt:  入力モードになる

次に、 :raw-html:`<kbd>Control</kbd>` キーを押下しながら :raw-html:`<kbd>v</kbd>` キー、 |BR|
最後に :raw-html:`<kbd>Tab</kbd>` キーを押す。 |BR|
すると、「:set expandtab」の設定にしておいても、タブ文字を入力できる。

.. image:: /dist/img/howto/editing/et-inserttab-cv.png
    :alt:  Control-v
.. image:: /dist/img/howto/editing/et-inserttab-tab.png
    :alt:  Tab入力


================================================================================
一時的に設定を切り替える
================================================================================

もし、編集箇所が多くて、タブ文字を多数入力しなければならない場合は、
いっそ、設定を一時的に切り替えてしまいましょう。

下記のコマンドで設定を変えてしまっても、Vimエディタの設定ファイルを変更さえしなければ、 |BR|
次にVimエディタを起動した時には、前の設定でファイルが開かれます。

.. parsed-literal::
    :class: console

    **" 「:set noexpandtab」コマンドの省略形**
    **" このコマンドを入力すると、Tabキーでタブ文字が入力されるようになる。**
    :set noet



================================================================================
モードラインを設定する
================================================================================

頻繁に開くファイルの場合は、
:raw-html:`<kbd>Control-v &lt;Tab&gt;</kbd>` でタブを挿入するのも、
「:set noet」で設定を毎回変えるのも面倒になってきます。 |BR|
そこで、第三の解決方法として、モードラインを使う方法を紹介します。

Vimエディタにはモードラインという機能があり、 |BR|
ファイルの上か下の端に、たとえば、

.. parsed-literal::
    :class: console

    # vim:set noexpandtab :

などと書いておくと、そのファイルだけ「set noexpandtab」の設定を有効にできます。 |BR|
モードラインについて詳しくは、下の専用ページをご覧ください。

`モードラインを使って、ファイルごとにvimエディタのオプションを指定する。`__

__ /articles/howto/file/modeline.html





